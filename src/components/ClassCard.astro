---
export interface Props {
	id: string;
	name: string;
	description: string;
	price: string;
	currency: string;
	imageUrl?: string | null;
	index?: number;
}

const { id, name, description, price, currency, imageUrl, index = 0 } = Astro.props;
---

<div
	class="card card-side bg-base-100 shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 border border-base-300 hover:border-primary animate-fade-in-up"
	style={`animation-delay: ${index * 0.1}s`}
>
	<figure class="w-96 relative overflow-hidden">
		{imageUrl ? (
			<img
				src={imageUrl}
				alt={name}
				class="h-full w-full object-cover transition-transform duration-300 hover:scale-105"
			/>
		) : (
			<div class="h-full w-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center">
				<span class="text-8xl opacity-90">ðŸŽ¨</span>
			</div>
		)}
	</figure>

	<div class="card-body">
		<h2 class="card-title text-2xl lg:text-3xl">{name}</h2>
		<p class="text-base-content/70 line-clamp-3 flex-grow">{description}</p>

		<div class="card-actions justify-between items-center mt-4 pt-4 border-t border-base-300">
			<div class="flex items-baseline gap-2">
				<span class="text-4xl font-bold text-primary">${price}</span>
				<span class="text-sm text-base-content/60 font-medium">{currency}</span>
			</div>
			<button class="btn btn-primary gap-2 group" data-workshop-id={id}>
				Book Now
				<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="transition-transform group-hover:translate-x-1">
					<path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				</svg>
			</button>
		</div>
	</div>
</div>

<style>
	@keyframes fade-in-up {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fade-in-up {
		animation: fade-in-up 0.6s ease-out backwards;
	}

	/* Mobile adjustments */
	@media (max-width: 768px) {
		.card-side {
			flex-direction: column;
		}

		figure {
			width: 100% !important;
			height: 240px;
		}
	}
</style>
